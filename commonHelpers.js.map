{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import Axios from \"axios\";\nconst axios = Axios.create({\n  baseURL: 'https://pixabay.com',\n});\n\nconst fetchImages = async value => {\n  const res = await axios.get('/api/', {\n    params: {\n      q: value,\n      per_page: 15,\n      page: 1,\n      key: '44460867-9f013743ec0c5b2ec6c0f5088',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    }\n  })\n  return res.data\n}\n\nexport default fetchImages;","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nfunction imagesTemplate(data) {\n  if (data.hits.length === 0){\n    iziToast.error({\n      title: 'Error',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topCenter',\n      backgroundColor: 'red',\n      theme: 'dark',\n      messageColor: 'white',\n     })\n  }\n      const markup = data.hits\n        .map(image => {\n          const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n          return `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      width=360;\n      height=200;\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags} \" />\n          <div class=\"image-info\">\n               <p>LIKES <span>${likes}</span></p>\n                    <p>VIEWS <span>${views}</span></p>\n                    <p>COMMENTS <span>${comments}</span></p>\n                    <p>DOWNLOADS <span>${downloads}</span></p>\n                </div>\n                </a>\n            </li>\n        `;\n        })\n        .join('');\n      return markup;\n    }\n  \n\nexport default imagesTemplate;","import fetchImages from './js/pixabay-api';\nimport imagesTemplate from './js/render-function';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadBtn = document.querySelector('.load-images-btn');\n\nasync function onSubmit(e) {\n    e.preventDefault();\n    gallery.innerHTML = '';\n    showLoader();\n    const value = e.target.elements.search.value.trim();\n    if (value === ''){\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Search query is empty. Please, enter a word',\n            position: 'topCenter',\n            backgroundColor: 'orange',\n            theme: 'dark',\n            messageColor: 'white',\n        });\n        hideLoader();\n        hideLoadBtn();\n        return\n    }\n    \n    try{\n    const data = await fetchImages(value)\n    const markup = imagesTemplate(data);\n    gallery.insertAdjacentHTML('beforeend', markup);\n    const lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n    lightbox.refresh();\n    showLoadBtn();\n    } catch (error){\n        console.log(error);\n        iziToast.error({\n      title: 'Error',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topCenter',\n      backgroundColor: 'red',\n      theme: 'dark',\n      messageColor: 'white',\n     })\n    }\n    hideLoader();\n    form.reset();\n}\nform.addEventListener('submit', onSubmit);\n\nfunction showLoadBtn() {\n    loadBtn.classList.remove('visually-hidden');\n}\nfunction hideLoadBtn() {\n    loadBtn.classList.add('visually-hidden');\n}\n\nfunction showLoader() {\n    loader.classList.remove('visually-hidden');\n}\nfunction hideLoader() {\n    loader.classList.add('visually-hidden');\n}"],"names":["axios","Axios","fetchImages","value","imagesTemplate","data","iziToast","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","loadBtn","onSubmit","e","showLoader","hideLoader","hideLoadBtn","markup","SimpleLightbox","showLoadBtn","error"],"mappings":"+vBACA,MAAMA,EAAQC,EAAM,OAAO,CACzB,QAAS,qBACX,CAAC,EAEKC,EAAc,MAAMC,IACZ,MAAMH,EAAM,IAAI,QAAS,CACnC,OAAQ,CACN,EAAGG,EACH,SAAU,GACV,KAAM,EACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GACU,KCdb,SAASC,EAAeC,EAAM,CAC5B,OAAIA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,YACV,gBAAiB,MACjB,MAAO,OACP,aAAc,OACpB,CAAM,EAEeD,EAAK,KACjB,IAAIE,GAAS,CACZ,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,2CAC0BE,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,aAK3CD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA,gCAEeC,CAAK;AAAA,qCACAC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKlD,CAAS,EACA,KAAK,EAAE,CAEhB,CC9BA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,kBAAkB,EAEzD,eAAeC,EAASC,EAAG,CACvBA,EAAE,eAAc,EAChBJ,EAAQ,UAAY,GACpBK,IACA,MAAMlB,EAAQiB,EAAE,OAAO,SAAS,OAAO,MAAM,OAC7C,GAAIjB,IAAU,GAAG,CACbG,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8CACT,SAAU,YACV,gBAAiB,SACjB,MAAO,OACP,aAAc,OAC1B,CAAS,EACDgB,IACAC,IACA,MACH,CAED,GAAG,CACH,MAAMlB,EAAO,MAAMH,EAAYC,CAAK,EAC9BqB,EAASpB,EAAeC,CAAI,EAClCW,EAAQ,mBAAmB,YAAaQ,CAAM,EAC7B,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EACnF,QAAO,EAChBC,GACC,OAAQC,EAAM,CACX,QAAQ,IAAIA,CAAK,EACjBrB,EAAS,MAAM,CACjB,MAAO,QACP,QAAS,2EACT,SAAU,YACV,gBAAiB,MACjB,MAAO,OACP,aAAc,OACpB,CAAM,CACD,CACDgB,IACAP,EAAK,MAAK,CACd,CACAA,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASO,GAAc,CACnBR,EAAQ,UAAU,OAAO,iBAAiB,CAC9C,CACA,SAASK,GAAc,CACnBL,EAAQ,UAAU,IAAI,iBAAiB,CAC3C,CAEA,SAASG,GAAa,CAClBJ,EAAO,UAAU,OAAO,iBAAiB,CAC7C,CACA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,iBAAiB,CAC1C"}